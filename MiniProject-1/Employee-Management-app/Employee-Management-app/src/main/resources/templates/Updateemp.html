<!---user interface for  Update employee respective fields are created ---->
<!--- Thymeleaf will used interact with database --->
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Update Employee Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body class="bg-light">
<div class="container mt-5">

    <div class="bg-primary text-white text-center p-4 rounded mb-4">
        <h2 class="font-monospace">Update Employee Details</h2>
    </div>


    <p class="fs-5 fw-medium text-center text-danger m-3 font-monospace" th:if="${message}" th:text="${message}"></p>

    <!--form will call the user endpoint --->
    <form class="form-group" th:action="@{/updateemp/{id}(id=${employees.id})}" method="post" th:object="${employees}">

        <div class="mb-3">
            <label class="fs-5 fw-medium text-secondary" for="fname">Employee Firstname:</label>
            <input type="text" class="form-control" th:field="*{firstName}" required id="fname">
            <p id="fnameerr" class="text-danger"></p>
        </div>


        <div class="mb-3">
            <label class="fs-5 fw-medium text-secondary" for="lname">Employee Lastname:</label>
            <input type="text" class="form-control" th:field="*{lastName}" required id="lname">
            <p id="lnameerr" class="text-danger"></p>
        </div>


        <div class="mb-3">
            <label class="fs-5 fw-medium text-secondary" for="agee">Employee Age:</label>
            <input type="text" class="form-control" th:field="*{age}" required id="agee">
            <p id="ageerr" class="text-danger"></p>
        </div>


        <div class="mb-3">
            <label class="fs-5 fw-medium text-secondary" for="address">Employee Address:</label>
            <input type="text" class="form-control" th:field="*{address}" required id="address">
        </div>

        <div class="mb-3">
            <label class="fs-5 fw-medium text-secondary" for="phonee">Employee Phone Number:</label>
            <input type="text" class="form-control" th:field="*{phonenumber}" required id="phonee">
            <p id="phoneerr" class="text-danger"></p>
        </div>


        <div class="mb-3">
            <label class="fs-5 fw-medium text-secondary" for="email">Employee Email:</label>
            <input type="text" class="form-control" th:field="*{email}" required id="email">
            <p id="emailerr" class="text-danger"></p>
        </div>

    <!-- button to save the entered details --->
        <div class="text-center">
            <button class="btn btn-success btn-lg" type="submit">Save</button>
        </div>
    </form>
</div>

<!--- script js to validate input --->
<script>

    const name = document.getElementById("fname");
    const nameFeedback = document.getElementById("fnameerr");
    name.addEventListener("blur", () => {
        const nameRegex = /^[A-Za-z]+$/;
        if (!name.value.match(nameRegex)) {
            nameFeedback.textContent = "Name should contain only alphabets.";
        } else {
            nameFeedback.textContent = "";
        }
    });


    const username = document.getElementById("lname");
    const usernameFeedback = document.getElementById("lnameerr");
    username.addEventListener("blur", () => {
        const usernameRegex = /^[A-Za-z]+$/;
        if (!username.value.match(usernameRegex)) {
            usernameFeedback.textContent = "Last Name should contain only alphabets.";
        } else {
            usernameFeedback.textContent = "";
        }
    });


    const age = document.getElementById("agee");
    const ageFeedback = document.getElementById("ageerr");
    age.addEventListener("blur", () => {
        const ageRegex = /^[0-9]+$/;
        if (!age.value.match(ageRegex)) {
            ageFeedback.textContent = "Age must be a number.";
        } else {
            ageFeedback.textContent = "";
        }
    });


    const phoneNumber = document.getElementById("phonee");
    const phoneFeedback = document.getElementById("phoneerr");
    phoneNumber.addEventListener("blur", () => {
        const phoneRegex = /^[0-9]{10}$/;
        if (!phoneNumber.value.match(phoneRegex)) {
            phoneFeedback.textContent = "Phone number must contain exactly 10 digits.";
        } else {
            phoneFeedback.textContent = "";
        }
    });


    const email = document.getElementById("email");
    const emailFeedback = document.getElementById("emailerr");
    email.addEventListener("blur", () => {
        const emailRegex = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
        if (!email.value.match(emailRegex)) {
            emailFeedback.textContent = "Please enter a valid email address.";
        } else {
            emailFeedback.textContent = "";
        }
    });
</script>
</body>
</html>
