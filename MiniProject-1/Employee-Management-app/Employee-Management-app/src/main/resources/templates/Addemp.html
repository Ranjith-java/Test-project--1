<!--- Addemp.html designed to get value from the user   --->
<!--- here thymeleaf is used to interact with database   --->
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Employee Details</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body class="bg-light">

<div class="container mt-5">

    <div class="bg-primary text-white text-center p-4 rounded">
        <h2 class="font-monospace">Add Employee Details</h2>
    </div>


    <p class="fs-5 fw-medium text-center text-danger m-3 font-monospace" th:if="${message}" th:text="${message}"></p>


    <form th:action="@{/add}" method="post" th:object="${employees}">
        <!---enter First name --->
        <div class="mb-3">
            <label class="form-label fs-5 text-secondary" for="fname">Employee Firstname:</label>
            <input type="text" class="form-control" th:field="*{firstName}" required id="fname">
            <div id="fnameerr" class="text-danger"></div>
        </div>

        <!--- enter Last name--->
        <div class="mb-3">
            <label class="form-label fs-5 text-secondary" for="lname">Employee Lastname:</label>
            <input type="text" class="form-control" th:field="*{lastName}" required id="lname">
            <div id="lnameerr" class="text-danger"></div>
        </div>

        <!---enter age --->
        <div class="mb-3">
            <label class="form-label fs-5 text-secondary" for="agee">Employee Age:</label>
            <input type="text" class="form-control" th:field="*{age}" required id="agee">
            <div id="ageerr" class="text-danger"></div>
        </div>

        <!---enter Address --->
        <div class="mb-3">
            <label class="form-label fs-5 text-secondary" for="address">Employee Address:</label>
            <input type="text" class="form-control" th:field="*{address}" required id="address">
        </div>

        <!--- enter phone number--->
        <div class="mb-3">
            <label class="form-label fs-5 text-secondary" for="phonee">Employee Phone Number:</label>
            <input type="text" class="form-control" th:field="*{phonenumber}" required id="phonee">
            <div id="phoneerr" class="text-danger"></div>
        </div>

        <!--- enter email--->
        <div class="mb-3">
            <label class="form-label fs-5 text-secondary" for="email">Employee Email:</label>
            <input type="text" class="form-control" th:field="*{email}" required id="email">
            <div id="emailerr" class="text-danger"></div>
        </div>

        <!--- save button--->
        <div class="text-center">
            <button class="btn btn-success btn-lg" type="submit">Save</button>
        </div>
    </form>
</div>

<!--- script to validate the name,phone,age --->
<script>

    const name = document.getElementById("fname");
    const nameFeedback = document.getElementById("fnameerr");
    name.addEventListener("blur", () => {
        const nameRegex = /^[A-Za-z]+$/;
        if (!name.value.match(nameRegex)) {
            nameFeedback.textContent = "Name should contain only alphabets.";
        } else {
            nameFeedback.textContent = "";
        }
    });


    const username = document.getElementById("lname");
    const usernameFeedback = document.getElementById("lnameerr");
    username.addEventListener("blur", () => {
        const usernameRegex = /^[A-Za-z]+$/;
        if (!username.value.match(usernameRegex)) {
            usernameFeedback.textContent = "Last Name should contain only alphabets.";
        } else {
            usernameFeedback.textContent = "";
        }
    });


    const age = document.getElementById("agee");
    const ageFeedback = document.getElementById("ageerr");
    age.addEventListener("blur", () => {
        const ageRegex = /^[0-9]+$/;
        if (!age.value.match(ageRegex)) {
            ageFeedback.textContent = "Age must be a number.";
        } else {
            ageFeedback.textContent = "";
        }
    });


    const phoneNumber = document.getElementById("phonee");
    const phoneFeedback = document.getElementById("phoneerr");
    phoneNumber.addEventListener("blur", () => {
        const phoneRegex = /^[0-9]{10}/;
        if (!phoneNumber.value.match(phoneRegex)) {
            phoneFeedback.textContent = "Phone number must contain exactly 10 digits.";
        } else {
            phoneFeedback.textContent = "";
        }
    });


    const email = document.getElementById("email");
    const emailFeedback = document.getElementById("emailerr");
    email.addEventListener("blur", () => {
        const emailRegex = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
        if (!email.value.match(emailRegex)) {
            emailFeedback.textContent = "Please enter a valid email address.";
        } else {
            emailFeedback.textContent = "";
        }
    });
</script>

</body>
</html>
